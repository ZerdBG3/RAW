// Based on Page 16 of https://media.wizards.com/2019/dnd/downloads/SA-Compendium.pdf
// Spells that specify a character takes damage when they first enter the AoE or start their turn there
//   shall not damage them when they're casted on top of them or moved to their position
// The damage is applied when a characer moves to the AoE (voluntarily or not)
// Due to a technical limitation of implementation, it was decided to make these spells only apply the damage
//   during the target's turn, while also giving the target an immunity status against the spell which lasts
//   until the end of their turn
// The end result is similar to RAW: most of the times, the characters will take damage only on their turn start
//   or if they move to the AoE during their movement. Shoving a target to the AoE will not damage them, but it will
//   damage them at their turn start

// ----------------------------------------------------------
// -------------------- Cloud of Daggers --------------------
// ----------------------------------------------------------

new entry "RAW_CLOUD_OF_DAGGERS_DAMAGE_RECEIVED"
type "StatusData"
data "StatusType" "BOOST"
data "TickType" "EndTurn"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "CLOUD_OF_DAGGERS_AURA"
type "StatusData"
data "StatusType" "BOOST"
using "CLOUD_OF_DAGGERS_AURA"
data "AuraStatuses" "IF(not Tagged('INVISIBLE_HELPER')):ApplyStatus(CLOUD_OF_DAGGERS,100,-1);TARGET:IF((HasStatus('RAW_CURRENT_TURN') or not Combat()) and not HasStatus('RAW_CLOUD_OF_DAGGERS_DAMAGE_RECEIVED') and not Tagged('INVISIBLE_HELPER')):ApplyStatus(RAW_CLOUD_OF_DAGGERS_DAMAGE,100,1)"

new entry "CLOUD_OF_DAGGERS_AURA_3"
type "StatusData"
data "StatusType" "BOOST"
using "CLOUD_OF_DAGGERS_AURA_3"
data "AuraStatuses" "IF(not Tagged('INVISIBLE_HELPER')):ApplyStatus(CLOUD_OF_DAGGERS_3,100,-1);TARGET:IF((HasStatus('RAW_CURRENT_TURN') or not Combat()) and not HasStatus('RAW_CLOUD_OF_DAGGERS_DAMAGE_RECEIVED') and not Tagged('INVISIBLE_HELPER')):ApplyStatus(RAW_CLOUD_OF_DAGGERS_DAMAGE_3,100,1)"

new entry "CLOUD_OF_DAGGERS_AURA_4"
type "StatusData"
data "StatusType" "BOOST"
using "CLOUD_OF_DAGGERS_AURA_4"
data "AuraStatuses" "IF(not Tagged('INVISIBLE_HELPER')):ApplyStatus(CLOUD_OF_DAGGERS_4,100,-1);TARGET:IF((HasStatus('RAW_CURRENT_TURN') or not Combat()) and not HasStatus('RAW_CLOUD_OF_DAGGERS_DAMAGE_RECEIVED') and not Tagged('INVISIBLE_HELPER')):ApplyStatus(RAW_CLOUD_OF_DAGGERS_DAMAGE_4,100,1)"

new entry "CLOUD_OF_DAGGERS_AURA_5"
type "StatusData"
data "StatusType" "BOOST"
using "CLOUD_OF_DAGGERS_AURA_5"
data "AuraStatuses" "IF(not Tagged('INVISIBLE_HELPER')):ApplyStatus(CLOUD_OF_DAGGERS_5,100,-1);TARGET:IF((HasStatus('RAW_CURRENT_TURN') or not Combat()) and not HasStatus('RAW_CLOUD_OF_DAGGERS_DAMAGE_RECEIVED') and not Tagged('INVISIBLE_HELPER')):ApplyStatus(RAW_CLOUD_OF_DAGGERS_DAMAGE_5,100,1)"

new entry "CLOUD_OF_DAGGERS_AURA_6"
type "StatusData"
data "StatusType" "BOOST"
using "CLOUD_OF_DAGGERS_AURA_6"
data "AuraStatuses" "IF(not Tagged('INVISIBLE_HELPER')):ApplyStatus(CLOUD_OF_DAGGERS_6,100,-1);TARGET:IF((HasStatus('RAW_CURRENT_TURN') or not Combat()) and not HasStatus('RAW_CLOUD_OF_DAGGERS_DAMAGE_RECEIVED') and not Tagged('INVISIBLE_HELPER')):ApplyStatus(RAW_CLOUD_OF_DAGGERS_DAMAGE_6,100,1)"

new entry "CLOUD_OF_DAGGERS"
type "StatusData"
data "StatusType" "BOOST"
using "CLOUD_OF_DAGGERS"
data "OnApplyFunctors" ""
data "TickFunctors" ""

new entry "CLOUD_OF_DAGGERS_3"
type "StatusData"
data "StatusType" "BOOST"
using "CLOUD_OF_DAGGERS_3"
data "OnApplyFunctors" ""
data "TickFunctors" ""

new entry "CLOUD_OF_DAGGERS_4"
type "StatusData"
data "StatusType" "BOOST"
using "CLOUD_OF_DAGGERS_4"
data "OnApplyFunctors" ""
data "TickFunctors" ""

new entry "CLOUD_OF_DAGGERS_5"
type "StatusData"
data "StatusType" "BOOST"
using "CLOUD_OF_DAGGERS_5"
data "OnApplyFunctors" ""
data "TickFunctors" ""

new entry "CLOUD_OF_DAGGERS_6"
type "StatusData"
data "StatusType" "BOOST"
using "CLOUD_OF_DAGGERS_6"
data "OnApplyFunctors" ""
data "TickFunctors" ""

new entry "RAW_CLOUD_OF_DAGGERS_DAMAGE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h583eca1egaecfg4530gaf12gf9c5347fc4cd;2"
data "Description" "hc52225a7gf3d9g4d1egbf22ge5aaa514c680;2"
data "DescriptionParams" "DealDamage(4d4,Slashing)"
data "Icon" "Spell_Conjuration_CloudOfDaggers"
data "TooltipDamage" "DealDamage(4d4,Slashing)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;InitiateCombat;BringIntoCombat"
data "OnApplyFunctors" "DealDamage(4d4,Slashing,Magical);ApplyStatus(RAW_CLOUD_OF_DAGGERS_DAMAGE_RECEIVED,100,1)"

new entry "RAW_CLOUD_OF_DAGGERS_DAMAGE_3"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_CLOUD_OF_DAGGERS_DAMAGE"
data "DescriptionParams" "DealDamage(6d4,Slashing)"
data "TooltipDamage" "DealDamage(6d4,Slashing)"
data "OnApplyFunctors" "DealDamage(6d4,Slashing,Magical);ApplyStatus(RAW_CLOUD_OF_DAGGERS_DAMAGE_RECEIVED,100,1)"

new entry "RAW_CLOUD_OF_DAGGERS_DAMAGE_4"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_CLOUD_OF_DAGGERS_DAMAGE"
data "DescriptionParams" "DealDamage(8d4,Slashing)"
data "TooltipDamage" "DealDamage(8d4,Slashing)"
data "OnApplyFunctors" "DealDamage(8d4,Slashing,Magical);ApplyStatus(RAW_CLOUD_OF_DAGGERS_DAMAGE_RECEIVED,100,1)"

new entry "RAW_CLOUD_OF_DAGGERS_DAMAGE_5"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_CLOUD_OF_DAGGERS_DAMAGE"
data "DescriptionParams" "DealDamage(10d4,Slashing)"
data "TooltipDamage" "DealDamage(10d4,Slashing)"
data "OnApplyFunctors" "DealDamage(10d4,Slashing,Magical);ApplyStatus(RAW_CLOUD_OF_DAGGERS_DAMAGE_RECEIVED,100,1)"

new entry "RAW_CLOUD_OF_DAGGERS_DAMAGE_6"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_CLOUD_OF_DAGGERS_DAMAGE"
data "DescriptionParams" "DealDamage(12d4,Slashing)"
data "TooltipDamage" "DealDamage(12d4,Slashing)"
data "OnApplyFunctors" "DealDamage(12d4,Slashing,Magical);ApplyStatus(RAW_CLOUD_OF_DAGGERS_DAMAGE_RECEIVED,100,1)"

new entry "LOW_BHAALCULTIST_CLOUD_OF_DAGGERS_AURA"
type "StatusData"
data "StatusType" "BOOST"
using "LOW_BHAALCULTIST_CLOUD_OF_DAGGERS_AURA"
data "AuraStatuses" "ApplyStatus(LOW_BHAALCULTIST_CLOUD_OF_DAGGERS,100,-1);TARGET:IF((HasStatus('RAW_CURRENT_TURN') or not Combat()) and not HasStatus('RAW_CLOUD_OF_DAGGERS_DAMAGE_RECEIVED')):ApplyStatus(RAW_LOW_BHAALCULTIST_CLOUD_OF_DAGGERS_DAMAGE,100,1)"

new entry "LOW_BHAALCULTIST_CLOUD_OF_DAGGERS"
type "StatusData"
data "StatusType" "BOOST"
using "LOW_BHAALCULTIST_CLOUD_OF_DAGGERS"
data "OnApplyFunctors" ""
data "TickFunctors" ""

new entry "RAW_LOW_BHAALCULTIST_CLOUD_OF_DAGGERS_DAMAGE"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_CLOUD_OF_DAGGERS_DAMAGE"
data "DescriptionParams" "DealDamage(6d4,Piercing)"
data "TooltipDamage" "DealDamage(6d4,Piercing)"
data "OnApplyFunctors" "DealDamage(6d4,Piercing,Magical);ApplyStatus(RAW_CLOUD_OF_DAGGERS_DAMAGE_RECEIVED,100,1)"

// -----------------------------------------------------------
// -------------------- Guardian of Faith --------------------
// -----------------------------------------------------------

// Guardian of Faith received a similar treatment, but being a summon and all, it was
//   modified at Public\RAW\Stats\Generated\Data\IntangibleSummons.txt

// --------------------------------------------------
// -------------------- Moonbeam --------------------
// --------------------------------------------------

new entry "RAW_MOONBEAM_DAMAGE_RECEIVED"
type "StatusData"
data "StatusType" "BOOST"
data "TickType" "EndTurn"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "MOONBEAM_AURA"
type "StatusData"
data "StatusType" "BOOST"
using "MOONBEAM_AURA"
data "AuraStatuses" "TARGET:IF(Character() and not Dead()):ApplyStatus(MOONBEAM,100,-1);TARGET:IF(Character() and not Dead() and (HasStatus('RAW_CURRENT_TURN') or not Combat()) and not HasStatus('RAW_MOONBEAM_DAMAGE_RECEIVED')):ApplyStatus(RAW_MOONBEAM_DAMAGE,100,1)"

new entry "MOONBEAM_AURA_3"
type "StatusData"
data "StatusType" "BOOST"
using "MOONBEAM_AURA_3"
data "AuraStatuses" "TARGET:IF(Character() and not Dead()):ApplyStatus(MOONBEAM_3,100,-1);TARGET:IF(Character() and not Dead() and (HasStatus('RAW_CURRENT_TURN') or not Combat()) and not HasStatus('RAW_MOONBEAM_DAMAGE_RECEIVED')):ApplyStatus(RAW_MOONBEAM_DAMAGE_3,100,1)"

new entry "MOONBEAM_AURA_4"
type "StatusData"
data "StatusType" "BOOST"
using "MOONBEAM_AURA_4"
data "AuraStatuses" "TARGET:IF(Character() and not Dead()):ApplyStatus(MOONBEAM_4,100,-1);TARGET:IF(Character() and not Dead() and (HasStatus('RAW_CURRENT_TURN') or not Combat()) and not HasStatus('RAW_MOONBEAM_DAMAGE_RECEIVED')):ApplyStatus(RAW_MOONBEAM_DAMAGE_4,100,1)"

new entry "MOONBEAM_AURA_5"
type "StatusData"
data "StatusType" "BOOST"
using "MOONBEAM_AURA_5"
data "AuraStatuses" "TARGET:IF(Character() and not Dead()):ApplyStatus(MOONBEAM_5,100,-1);TARGET:IF(Character() and not Dead() and (HasStatus('RAW_CURRENT_TURN') or not Combat()) and not HasStatus('RAW_MOONBEAM_DAMAGE_RECEIVED')):ApplyStatus(RAW_MOONBEAM_DAMAGE_5,100,1)"

new entry "MOONBEAM_AURA_6"
type "StatusData"
data "StatusType" "BOOST"
using "MOONBEAM_AURA_6"
data "AuraStatuses" "TARGET:IF(Character() and not Dead()):ApplyStatus(MOONBEAM_6,100,-1);TARGET:IF(Character() and not Dead() and (HasStatus('RAW_CURRENT_TURN') or not Combat()) and not HasStatus('RAW_MOONBEAM_DAMAGE_RECEIVED')):ApplyStatus(RAW_MOONBEAM_DAMAGE_6,100,1)"

new entry "MOONBEAM"
type "StatusData"
data "StatusType" "BOOST"
using "MOONBEAM"
data "OnApplyRoll" ""
data "OnApplySuccess" ""
data "OnApplyFail" ""
data "OnTickRoll" ""
data "OnTickSuccess" ""
data "OnTickFail" ""
data "ApplyEffect" ""

new entry "MOONBEAM_3"
type "StatusData"
data "StatusType" "BOOST"
using "MOONBEAM_3"
data "OnApplySuccess" ""
data "OnApplyFail" ""
data "OnTickSuccess" ""
data "OnTickFail" ""

new entry "MOONBEAM_4"
type "StatusData"
data "StatusType" "BOOST"
using "MOONBEAM_4"
data "OnApplySuccess" ""
data "OnApplyFail" ""
data "OnTickSuccess" ""
data "OnTickFail" ""

new entry "MOONBEAM_5"
type "StatusData"
data "StatusType" "BOOST"
using "MOONBEAM_5"
data "OnApplySuccess" ""
data "OnApplyFail" ""
data "OnTickSuccess" ""
data "OnTickFail" ""

new entry "MOONBEAM_6"
type "StatusData"
data "StatusType" "BOOST"
using "MOONBEAM_6"
data "OnApplySuccess" ""
data "OnApplyFail" ""
data "OnTickSuccess" ""
data "OnTickFail" ""

new entry "RAW_MOONBEAM_DAMAGE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "heb1d42dfgaad2g4ca6gabf7g83b101791226;2"
data "Description" "hddd473aegb174g4f67g934dg1399cdcebc9d;2"
data "DescriptionParams" "DealDamage(2d10,Radiant)"
data "Icon" "Spell_Evocation_Moonbeam"
data "OnApplyRoll" "not SavingThrow(Ability.Constitution,CalculateSpellDC(context.PreferredCastingAbility, GetSummoner(context.Source)))"
data "OnApplySuccess" "DealDamage(2d10,Radiant,Magical);ApplyStatus(RAW_MOONBEAM_DAMAGE_RECEIVED,100,1,GetSummoner(context.Source))"
data "OnApplyFail" "DealDamage(2d10/2,Radiant,Magical);ApplyStatus(RAW_MOONBEAM_DAMAGE_RECEIVED,100,1,GetSummoner(context.Source))"
data "ApplyEffect" "62710804-ff29-4936-9d45-0e6a44372526"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator;InitiateCombat;BringIntoCombat"

new entry "RAW_MOONBEAM_DAMAGE_3"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_MOONBEAM_DAMAGE"
data "DescriptionParams" "DealDamage(3d10,Radiant)"
data "OnApplySuccess" "DealDamage(3d10,Radiant,Magical);ApplyStatus(RAW_MOONBEAM_DAMAGE_RECEIVED,100,1)"
data "OnApplyFail" "DealDamage(3d10/2,Radiant,Magical);ApplyStatus(RAW_MOONBEAM_DAMAGE_RECEIVED,100,1)"

new entry "RAW_MOONBEAM_DAMAGE_4"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_MOONBEAM_DAMAGE"
data "DescriptionParams" "DealDamage(4d10,Radiant)"
data "OnApplySuccess" "DealDamage(4d10,Radiant,Magical);ApplyStatus(RAW_MOONBEAM_DAMAGE_RECEIVED,100,1)"
data "OnApplyFail" "DealDamage(4d10/2,Radiant,Magical);ApplyStatus(RAW_MOONBEAM_DAMAGE_RECEIVED,100,1)"

new entry "RAW_MOONBEAM_DAMAGE_5"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_MOONBEAM_DAMAGE"
data "DescriptionParams" "DealDamage(5d10,Radiant)"
data "OnApplySuccess" "DealDamage(5d10,Radiant,Magical);ApplyStatus(RAW_MOONBEAM_DAMAGE_RECEIVED,100,1)"
data "OnApplyFail" "DealDamage(5d10/2,Radiant,Magical);ApplyStatus(RAW_MOONBEAM_DAMAGE_RECEIVED,100,1)"

new entry "RAW_MOONBEAM_DAMAGE_6"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_MOONBEAM_DAMAGE"
data "DescriptionParams" "DealDamage(6d10,Radiant)"
data "OnApplySuccess" "DealDamage(6d10,Radiant,Magical);ApplyStatus(RAW_MOONBEAM_DAMAGE_RECEIVED,100,1)"
data "OnApplyFail" "DealDamage(6d10/2,Radiant,Magical);ApplyStatus(RAW_MOONBEAM_DAMAGE_RECEIVED,100,1)"

// ----------------------------------------------------------
// -------------------- Spirit Guardians --------------------
// ----------------------------------------------------------

new entry "SPIRIT_GUARDIANS_DAMAGE_RECEIVED"
type "StatusData"
data "StatusType" "BOOST"
data "TickType" "EndTurn"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"

new entry "SPIRIT_GUARDIANS_RADIANT_AURA"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_RADIANT_AURA"
data "AuraStatuses" "TARGET:IF(Enemy() and not (Dead() or HasStatus('KNOCKED_OUT'))):ApplyStatus(SPIRIT_GUARDIANS_RADIANT,100,-1);TARGET:IF(Enemy() and HasStatus('RAW_CURRENT_TURN') and not (Dead() or HasStatus('KNOCKED_OUT') or HasStatus('SPIRIT_GUARDIANS_DAMAGE_RECEIVED',context.Target,context.Source))):ApplyStatus(RAW_SPIRIT_GUARDIANS_RADIANT_DAMAGE,100,-1)"

new entry "SPIRIT_GUARDIANS_RADIANT_AURA_4"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_RADIANT_AURA_4"
data "AuraStatuses" "TARGET:IF(Enemy() and not (Dead() or HasStatus('KNOCKED_OUT'))):ApplyStatus(SPIRIT_GUARDIANS_RADIANT_4,100,-1);TARGET:IF(Enemy() and HasStatus('RAW_CURRENT_TURN') and not (Dead() or HasStatus('KNOCKED_OUT') or HasStatus('SPIRIT_GUARDIANS_DAMAGE_RECEIVED',context.Target,context.Source))):ApplyStatus(RAW_SPIRIT_GUARDIANS_RADIANT_DAMAGE_4,100,-1)"

new entry "SPIRIT_GUARDIANS_RADIANT_AURA_5"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_RADIANT_AURA_5"
data "AuraStatuses" "TARGET:IF(Enemy() and not (Dead() or HasStatus('KNOCKED_OUT'))):ApplyStatus(SPIRIT_GUARDIANS_RADIANT_5,100,-1);TARGET:IF(Enemy() and HasStatus('RAW_CURRENT_TURN') and not (Dead() or HasStatus('KNOCKED_OUT') or HasStatus('SPIRIT_GUARDIANS_DAMAGE_RECEIVED',context.Target,context.Source))):ApplyStatus(RAW_SPIRIT_GUARDIANS_RADIANT_DAMAGE_5,100,-1)"

new entry "SPIRIT_GUARDIANS_RADIANT_AURA_6"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_RADIANT_AURA_6"
data "AuraStatuses" "TARGET:IF(Enemy() and not (Dead() or HasStatus('KNOCKED_OUT'))):ApplyStatus(SPIRIT_GUARDIANS_RADIANT_6,100,-1);TARGET:IF(Enemy() and HasStatus('RAW_CURRENT_TURN') and not (Dead() or HasStatus('KNOCKED_OUT') or HasStatus('SPIRIT_GUARDIANS_DAMAGE_RECEIVED',context.Target,context.Source))):ApplyStatus(RAW_SPIRIT_GUARDIANS_RADIANT_DAMAGE_6,100,-1)"

new entry "SPIRIT_GUARDIANS_RADIANT"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_RADIANT"
data "StatusPropertyFlags" ""
data "OnApplyRoll" ""
data "OnApplySuccess" ""
data "OnApplyFail" ""
data "OnTickRoll" ""
data "OnTickSuccess" ""
data "OnTickFail" ""

new entry "SPIRIT_GUARDIANS_RADIANT_4"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_RADIANT_4"
data "OnApplySuccess" ""
data "OnApplyFail" ""
data "OnTickSuccess" ""
data "OnTickFail" ""

new entry "SPIRIT_GUARDIANS_RADIANT_5"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_RADIANT_5"
data "OnApplySuccess" ""
data "OnApplyFail" ""
data "OnTickSuccess" ""
data "OnTickFail" ""

new entry "SPIRIT_GUARDIANS_RADIANT_6"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_RADIANT_6"
data "OnApplySuccess" ""
data "OnApplyFail" ""
data "OnTickSuccess" ""
data "OnTickFail" ""

new entry "RAW_SPIRIT_GUARDIANS_RADIANT_DAMAGE"
type "StatusData"
data "StatusType" "BOOST"
data "DisplayName" "h791727aeg6897g40ccg87e1gdd7c3f4779af;1"
data "Description" "h9b24ab3fg7f90g4df5g8a23gdfe9ef60aa52;2"
data "DescriptionParams" "DealDamage(3d8,Radiant)"
data "Icon" "Spell_Conjuration_SpiritGuardians"
data "TooltipSave" "Wisdom"
data "TooltipDamage" "DealDamage(3d8,Radiant)"
data "OnApplyRoll" "not SavingThrow(Ability.Wisdom, SourceSpellDC())"
data "OnApplySuccess" "DealDamage(3d8,Radiant,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"
data "OnApplyFail" "DealDamage(3d8/2,Radiant,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"
data "StatusPropertyFlags" "DisableOverhead;DisableCombatlog;DisablePortraitIndicator"
data "StatusEffect" "cbb2672a-9aeb-40ed-a252-f56fd8424965"

new entry "RAW_SPIRIT_GUARDIANS_RADIANT_DAMAGE_4"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_SPIRIT_GUARDIANS_RADIANT_DAMAGE"
data "DescriptionParams" "DealDamage(4d8,Radiant)"
data "TooltipDamage" "DealDamage(4d8,Radiant)"
data "OnApplySuccess" "DealDamage(4d8,Radiant,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"
data "OnApplyFail" "DealDamage(4d8/2,Radiant,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"

new entry "RAW_SPIRIT_GUARDIANS_RADIANT_DAMAGE_5"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_SPIRIT_GUARDIANS_RADIANT_DAMAGE"
data "DescriptionParams" "DealDamage(5d8,Radiant)"
data "TooltipDamage" "DealDamage(5d8,Radiant)"
data "OnApplySuccess" "DealDamage(5d8,Radiant,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"
data "OnApplyFail" "DealDamage(5d8/2,Radiant,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"

new entry "RAW_SPIRIT_GUARDIANS_RADIANT_DAMAGE_6"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_SPIRIT_GUARDIANS_RADIANT_DAMAGE"
data "DescriptionParams" "DealDamage(6d8,Radiant)"
data "TooltipDamage" "DealDamage(6d8,Radiant)"
data "OnApplySuccess" "DealDamage(6d8,Radiant,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"
data "OnApplyFail" "DealDamage(6d8/2,Radiant,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"

new entry "SPIRIT_GUARDIANS_NECROTIC_AURA"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_NECROTIC_AURA"
data "AuraStatuses" "TARGET:IF(Enemy() and not (Dead() or HasStatus('KNOCKED_OUT'))):ApplyStatus(SPIRIT_GUARDIANS_NECROTIC,100,-1);TARGET:IF(Enemy() and HasStatus('RAW_CURRENT_TURN') and not (Dead() or HasStatus('KNOCKED_OUT') or HasStatus('SPIRIT_GUARDIANS_DAMAGE_RECEIVED',context.Target,context.Source))):ApplyStatus(RAW_SPIRIT_GUARDIANS_NECROTIC_DAMAGE,100,-1)"

new entry "SPIRIT_GUARDIANS_NECROTIC_AURA_4"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_NECROTIC_AURA_4"
data "AuraStatuses" "TARGET:IF(Enemy() and HasStatus('RAW_CURRENT_TURN') and not (Dead() or HasStatus('KNOCKED_OUT') or HasStatus('SPIRIT_GUARDIANS_DAMAGE_RECEIVED',context.Target,context.Source))):ApplyStatus(SPIRIT_GUARDIANS_NECROTIC_4,100,-1)"

new entry "SPIRIT_GUARDIANS_NECROTIC_AURA_5"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_NECROTIC_AURA_5"
data "AuraStatuses" "TARGET:IF(Enemy() and HasStatus('RAW_CURRENT_TURN') and not (Dead() or HasStatus('KNOCKED_OUT') or HasStatus('SPIRIT_GUARDIANS_DAMAGE_RECEIVED',context.Target,context.Source))):ApplyStatus(SPIRIT_GUARDIANS_NECROTIC_5,100,-1)"

new entry "SPIRIT_GUARDIANS_NECROTIC_AURA_6"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_NECROTIC_AURA_6"
data "AuraStatuses" "TARGET:IF(Enemy() and HasStatus('RAW_CURRENT_TURN') and not (Dead() or HasStatus('KNOCKED_OUT') or HasStatus('SPIRIT_GUARDIANS_DAMAGE_RECEIVED',context.Target,context.Source))):ApplyStatus(SPIRIT_GUARDIANS_NECROTIC_6,100,-1)"

new entry "SPIRIT_GUARDIANS_NECROTIC"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_NECROTIC"
data "OnApplyRoll" ""
data "OnApplySuccess" ""
data "OnApplyFail" ""
data "OnTickRoll" ""
data "OnTickSuccess" ""
data "OnTickFail" ""

new entry "SPIRIT_GUARDIANS_NECROTIC_4"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_NECROTIC_4"
data "OnApplySuccess" ""
data "OnApplyFail" ""
data "OnTickSuccess" ""
data "OnTickFail" ""

new entry "SPIRIT_GUARDIANS_NECROTIC_5"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_NECROTIC_5"
data "OnApplySuccess" ""
data "OnApplyFail" ""
data "OnTickSuccess" ""
data "OnTickFail" ""

new entry "SPIRIT_GUARDIANS_NECROTIC_6"
type "StatusData"
data "StatusType" "BOOST"
using "SPIRIT_GUARDIANS_NECROTIC_6"
data "OnApplySuccess" ""
data "OnApplyFail" ""
data "OnTickSuccess" ""
data "OnTickFail" ""

new entry "RAW_SPIRIT_GUARDIANS_NECROTIC_DAMAGE"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_SPIRIT_GUARDIANS_RADIANT_DAMAGE"
data "DescriptionParams" "DealDamage(3d8,Necrotic)"
data "TooltipDamage" "DealDamage(3d8,Necrotic)"
data "OnApplySuccess" "DealDamage(3d8,Necrotic,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"
data "OnApplyFail" "DealDamage(3d8/2,Necrotic,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"
data "StatusEffect" "5f2da987-e24e-49d0-b80b-0a062b169d30"

new entry "RAW_SPIRIT_GUARDIANS_NECROTIC_DAMAGE_4"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_SPIRIT_GUARDIANS_NECROTIC_DAMAGE"
data "DescriptionParams" "DealDamage(4d8,Necrotic)"
data "TooltipDamage" "DealDamage(4d8,Necrotic)"
data "OnApplySuccess" "DealDamage(4d8,Necrotic,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"
data "OnApplyFail" "DealDamage(4d8/2,Necrotic,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"

new entry "RAW_SPIRIT_GUARDIANS_NECROTIC_DAMAGE_5"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_SPIRIT_GUARDIANS_NECROTIC_DAMAGE"
data "DescriptionParams" "DealDamage(5d8,Necrotic)"
data "TooltipDamage" "DealDamage(5d8,Necrotic)"
data "OnApplySuccess" "DealDamage(5d8,Necrotic,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"
data "OnApplyFail" "DealDamage(5d8/2,Necrotic,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"

new entry "RAW_SPIRIT_GUARDIANS_NECROTIC_DAMAGE_6"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_SPIRIT_GUARDIANS_NECROTIC_DAMAGE"
data "DescriptionParams" "DealDamage(6d8,Necrotic)"
data "TooltipDamage" "DealDamage(6d8,Necrotic)"
data "OnApplySuccess" "DealDamage(6d8,Necrotic,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"
data "OnApplyFail" "DealDamage(6d8/2,Necrotic,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"

new entry "LOW_CAZADORSPALACE_DEADGIRL_AURA"
type "StatusData"
data "StatusType" "BOOST"
using "LOW_CAZADORSPALACE_DEADGIRL_AURA"
data "AuraStatuses" "TARGET:IF(Character() and not Dead()):ApplyStatus(LOW_CAZADORSPALACE_DEADGIRL_STATUS,100,-1);TARGET:IF(Character() and HasStatus('RAW_CURRENT_TURN') and not (Dead() or HasStatus('SPIRIT_GUARDIANS_DAMAGE_RECEIVED',context.Target,context.Source))):ApplyStatus(RAW_LOW_CAZADORSPALACE_DEADGIRL_STATUS_DAMAGE,100,-1)"

new entry "LOW_CAZADORSPALACE_DEADGIRL_STATUS"
type "StatusData"
data "StatusType" "BOOST"
using "LOW_CAZADORSPALACE_DEADGIRL_STATUS"
data "OnApplyRoll" ""
data "OnApplySuccess" ""
data "OnApplyFail" ""
data "OnTickRoll" ""
data "OnTickSuccess" ""
data "OnTickFail" ""

new entry "RAW_LOW_CAZADORSPALACE_DEADGIRL_STATUS_DAMAGE"
type "StatusData"
data "StatusType" "BOOST"
using "RAW_SPIRIT_GUARDIANS_NECROTIC_DAMAGE"
data "DisplayName" "h62f0cb3fg3996g4656gb0f1g0eb04827ea82;1"
data "Description" "ha342a0c0g11dbg44cfg9af2ga3f8fd5c12b4;1"
data "DescriptionParams" "DealDamage(4d6,Necrotic)"
data "TooltipDamage" "DealDamage(4d6,Necrotic)"
data "OnApplySuccess" "DealDamage(4d6,Necrotic,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"
data "OnApplyFail" "DealDamage(4d6/2,Necrotic,Magical);ApplyStatus(SPIRIT_GUARDIANS_DAMAGE_RECEIVED,100,1)"
data "StatusEffect" "eeaa069d-2a6a-418a-a119-69e86211058a"
